<html>
<head>
<title>Jasmine 3D test</title>
<script src="../js/jasmine.js"></script>
<script src="../js/jasmine_anim.js"></script>
<script src="../js/jasmine_3d.js"></script>
<style>
.blob
{
  background-color: red;
  position: absolute;
  overflow: hidden;
}
</style>

</head>
<body>
<h1>Jasmine 3D test</h1>
<div class="blob" id="blob1" style="background-color: red;"></div>
<div class="blob" id="blob2" style="background-color: green;"></div>
<div class="blob" id="blob3" style="background-color: blue;"></div>
<div class="blob" id="blob4" style="background-color: yellow;"></div>
<div class="blob" id="blob5" style="background-color: cyan;"></div>
<div class="blob" id="blob6" style="background-color: magenta;"></div>
<div class="blob" id="blob7" style="background-color: black;"></div>
<div class="blob" id="blob8" style="background-color: #808080;"></div>

<script>
with (Jasmine)
{
  // Create 3D cube of blobs
  var b1 = new DOMThing("blob1", new Vector(-1,-1,-1), new Vector(0.2,0.2));
  var b2 = new DOMThing("blob2", new Vector(-1,-1, 1), new Vector(0.2,0.2));
  var b3 = new DOMThing("blob3", new Vector(-1, 1,-1), new Vector(0.2,0.2));
  var b4 = new DOMThing("blob4", new Vector(-1, 1, 1), new Vector(0.2,0.2));
  var b5 = new DOMThing("blob5", new Vector( 1,-1,-1), new Vector(0.2,0.2));
  var b6 = new DOMThing("blob6", new Vector( 1,-1, 1), new Vector(0.2,0.2));
  var b7 = new DOMThing("blob7", new Vector( 1, 1,-1), new Vector(0.2,0.2));
  var b8 = new DOMThing("blob8", new Vector( 1, 1, 1), new Vector(0.2,0.2));

  // Add them all to a World
  var w = new World([b1,b2,b3,b4,b5,b6,b7,b8]);

  // Add transformations
  var tr = new Rotation(new Vector(0,0,0));
  w.add_transformation(tr);
  var ts = new Scale(new Vector(0,0,0));
  w.add_transformation(ts);
  w.add_transformation(new Perspective(500));
  w.add_transformation(new Translation(new Vector(400,250)));

  // Animate
  var i1 = new VectorInterpolator(new PositionBinder(tr),
		                  new Vector(0,Math.PI*2,0));
  Universe.add_ticker(new SawtoothSignal(i1, 10000));

  var i2 = new VectorInterpolator(new PositionBinder(tr),
                                  new Vector(Math.PI*2,0,0));
  Universe.add_ticker(new SineSignal(i2, 20000));

  var i3 = new VectorInterpolator(new SizeBinder(ts), new Vector(200,200,200));
  Universe.add_ticker(new SineSignal(i3, 40000));

  Universe.add_ticker(w);
  Universe.start();
}
</script>

</html>
